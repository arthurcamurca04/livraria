<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org"
	xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="UTF-8">
<title>Livro | Home</title>
<link rel="stylesheet"
	th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
</head>
<body>
	<div class="container">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="#">Livraria</a>
		</nav>
	</div>
	
	<div class="container mt-3 mb-3">
		<div th:if="${sucesso != null}">
			<div class="alert alert-success alert-dismissible fade show"
				role="alert">
				<i class="oi oi-check"></i> <span> <strong
					th:text="${sucesso}"></strong>
				</span>
				<button type="button" class="close" data-dismiss="alert"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
		</div>
		
		<h4>Cadastro de Livros</h4>	
		<div class="row">
			<div class="col-4">
				<form class="form-group" th:object="${livro}" th:action="@{/livros/cadastrar}"
					method="POST">
					<input th:value="${livro.titulo}" class="form-control form-group"
					type="text" name="titulo" placeholder="Título" /> 
					
					<input
					th:value="${livro.autor}" class="form-control form-group"
					type="text" name="autor" placeholder="Autor" /> 
					
					<input
					th:value="${livro.editora}" class="form-control form-group"
					type="text" name="editora" placeholder="Editora" />
					
					<input
					th:value="${livro.ano}" class="form-control form-group"
					type="text" name="ano" placeholder="Ano" /> 
					
					<input
					th:value="${livro.preco}" class="form-control form-group"
					type="text" name="preco" placeholder="Preço (ex.: 59,99)" 
					data-mask="#.##0,00" data-mask-reverse="true"/>

					<button class="btn btn-primary mt-3 form-group" type="submit">Adicionar</button>
				</form>
			</div>
		</div>
	</div>

	<div class="container">
		<table class="table table-striped table-hover">
			<thead class="thead-dark">
				<tr>
					<th scope="col">#</th>
					<th scope="col">Título</th>
					<th scope="col">Autor</th>
					<th scope="col">Editora</th>
					<th scope="col">Ano</th>
					<th scope="col">Preço</th>
					<th scope="col"></th>
					
				</tr>
			</thead>
			<tbody>
				<tr th:each="livro : ${livros}">
					<th scope="row" th:text="${livro.id}">1</th>
					<td th:text="${livro.titulo}">Java para Web</td>
					<td th:text="${livro.autor}">Arthur</td>
					<td th:text="${livro.editora}">Abril</td>
					<td th:text="${livro.ano}">2019</td>
					<td th:text="${#numbers.formatCurrency(livro.preco)}">299.99</td>
					<td>
						<a class="btn-danger btn-sm" th:href="@{/livros/excluir/{id}(id=${livro.id})}">Excluir</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<script th:src="@{/webjars/jquery/jquery.min.js/}"></script>
	<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>

</body>
</html>